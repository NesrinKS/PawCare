{% include 'user_header.html'%}
<br><br>
<center>
    <h1>Appointment </h1>
    <form method="post">
        <table>
            <tr>
                <th>Category</th>
                <td>
                    <select name="cat" class="form-control">
                        {% for i in data['cat'] %}
                        <option value="{{i['category_id']}}">{{i['category_name']}}</option>
                        {% endfor %}
                    </select>
                </td>
            </tr>
            <tr>
                <th style="padding: 20px">Book date</th>
                <td>
                    <input type="date" min="{{ data.current_date }}" max="{{ data.max_date }}" name="book_date" class="form-control" required="">
                </td>
            </tr>
            <tr>
                <td style="text-align: center;" colspan="2"><input type="submit" name="add" class="btn btn-success"></td>
            </tr>
        </table>
    </form>
</center>

{% include 'footer.html'%}

<script>
    // Calculate maximum date allowed, 2 months from current date
    var today = new Date();
    var maxDate = new Date(today.getFullYear(), today.getMonth() + 2, today.getDate());
    
    // Format maxDate as YYYY-MM-DD for input type date
    var formattedMaxDate = maxDate.toISOString().split('T')[0];
    
    // Set max attribute of date input field
    document.getElementsByName("book_date")[0].setAttribute('max', formattedMaxDate);
</script>
